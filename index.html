<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="format-detection" content="telephone=no" />
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
<script type="text/javascript" src="cordova.js"></script>
<style type="text/css">
	body {
			margin-top: 20px;
			}	
	button {
			width: 100%;
			height: 30px;
			}

</style>


<script type="text/javascript">

	var resultDiv;
	document.addEventListener("deviceready", init, false);
	function init() {
		document.querySelector("#startScan").addEventListener("touchend", startScan, false);
		resultDiv = document.querySelector("#results");
	}
	function startScan() {
		cordova.plugins.barcodeScanner.scan(
			function (result) {
				var s = "Result: " + result.text + "<br/>" +
				"Format: " + result.format + "<br/>" +
				"Cancelled: " + result.cancelled;
				resultDiv.innerHTML = s;
			},
			function (error) {alert("Scanning failed: " + error);}
	);
	}

</script>
</head>
<body>
<p>
<button id="startScan">Start Scan</button>
</p>
<div id="results"></div>
</body>
</html>